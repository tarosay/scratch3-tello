<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scratch3 Tello ブロック解説ガイド</title>
  <style>
    /* --- Base Styles --- */
    :root {
      --primary-color: #00a9e0; /* Tello Blue-ish */
      --primary-dark: #005ea5;
      --accent-color: #ffcd00; /* Scratch Orange-ish */
      --text-color: #333;
      --bg-color: #f4f7fa;
      --card-bg: #ffffff;
      --border-radius: 12px;
      --shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    }

    body {
      font-family: "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      color: var(--text-color);
      background: var(--bg-color);
    }

    /* --- Header --- */
    header {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: #fff;
      padding: 60px 20px;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    header h1 {
      margin: 0 0 10px;
      font-size: 2rem;
      font-weight: 700;
    }
    header p {
      margin: 0;
      font-size: 1.1rem;
      opacity: 0.9;
    }

    /* --- Main Layout --- */
    main {
      max-width: 1000px;
      margin: -40px auto 0;
      padding: 0 20px 60px;
      position: relative;
      z-index: 10;
    }

    section {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 40px;
      margin-bottom: 40px;
    }

    h2 {
      color: var(--primary-dark);
      font-size: 1.6rem;
      border-bottom: 2px solid #eef2f6;
      padding-bottom: 10px;
      margin-top: 0;
      margin-bottom: 30px;
    }

    h3 {
      color: var(--primary-dark);
      font-size: 1.25rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }
    h3::before {
      content: '';
      display: inline-block;
      width: 6px;
      height: 24px;
      background: var(--primary-color);
      margin-right: 10px;
      border-radius: 3px;
    }

    /* --- Components --- */
    ul {
      padding-left: 1.4rem;
    }
    li {
      margin-bottom: 0.5rem;
    }

    .tip {
      background: #eaf6ff;
      border-left: 5px solid var(--primary-color);
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
      font-size: 0.95rem;
      color: #004a80;
    }
    .tip strong {
      color: #005ea5;
    }

    /* --- Image & Figure Styling --- */
    .figure-card {
      background: #fff;
      border: 1px solid #eef2f6;
      border-radius: 8px;
      overflow: hidden;
      margin: 0;
      text-align: center; /* 画像を中央寄せ */
      transition: transform 0.2s;
    }
    .figure-card:hover {
      border-color: var(--primary-color);
    }
    
    .figure-card img {
      display: block;
      margin: 0 auto;
      height: auto;
      /* 重要: 画像が親要素より大きくならないようにするが、小さすぎる場合は元のサイズを維持 */
      max-width: 100%; 
      /* 大きすぎる画像への対策 */
      max-height: 500px; 
      object-fit: contain;
    }

    /* 縦長のブロック画像用の調整クラス */
    .img-tall img {
      max-width: 200px; /* 縦長画像は幅を制限して巨大化を防ぐ */
      width: 100%;
    }

    /* 横長のスクリーンショット用の調整クラス */
    .img-wide img {
      width: 100%;
      max-width: 800px;
    }

    .figure-card figcaption {
      padding: 12px;
      font-size: 0.85rem;
      color: #666;
      background: #fafbfc;
      border-top: 1px solid #eef2f6;
      text-align: left;
    }

    /* --- Grid Layouts --- */

    /* 2カラムレイアウト（説明 + 画像） */
    .two-col-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      align-items: start;
      margin-bottom: 30px;
    }

    /* 縦長画像を並べるためのグリッド */
    .blocks-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    /* プログラム例のグリッド */
    .program-grid {
      display: grid;
      grid-template-columns: 1fr 300px; /* 画像エリアを固定幅気味に */
      gap: 30px;
      margin-bottom: 40px;
      align-items: center;
      border-bottom: 1px solid #eee;
      padding-bottom: 30px;
    }
    .program-grid:last-child {
      border-bottom: none;
      padding-bottom: 0;
      margin-bottom: 0;
    }

    /* --- Responsive Adjustments --- */
    @media (max-width: 768px) {
      header {
        padding: 40px 20px;
      }
      main {
        padding: 0 15px 40px;
      }
      section {
        padding: 25px;
      }
      h1 { font-size: 1.6rem; }
      
      .two-col-grid,
      .program-grid {
        grid-template-columns: 1fr; /* スマホでは1カラム */
      }
      
      .program-grid > div:first-child {
        order: 2; /* 画像を下に、説明を上に（必要に応じて変更） */
      }
      
      .program-grid {
        gap: 15px;
      }
      
      /* スマホでは画像を少し大きく見せる */
      .img-tall img {
        max-width: 100%;
        max-height: 400px;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Scratch3 Tello ブロック使い方ガイド</h1>
    <p>DJI Tello を Scratch3.0 から操作するための拡張ブロック一覧と活用レシピ</p>
  </header>

  <main>
    <!-- Section 1: 準備 -->
    <section>
      <h2>1. 準備と接続の流れ</h2>
      
      <div class="two-col-grid">
        <!-- 説明テキスト -->
        <div>
          <p>まずはじめに、ドローンとPCを接続してScratchの準備を整えます。</p>
          <ul>
            <li>パソコンのWi-Fi設定で、Telloのアクセスポイント（TELLO-XXXXXX）に接続します。</li>
            <li>Scratchエディター左下の「拡張機能を追加」ボタンをクリックします。</li>
            <li>一覧から <strong>Tello</strong> を選択し、ブロックパレットに追加します。</li>
          </ul>
          
          <div class="tip">
            <strong>Point:</strong> 最初に「接続する」ブロックを配置し、実行して成功（true）することを確認してからプログラミングを始めましょう。
          </div>
        </div>

        <!-- 画像：拡張機能追加 -->
        <figure class="figure-card img-wide">
          <img src="./image/image09.png" alt="拡張機能の追加画面">
          <figcaption>左下の拡張アイコンから Tello をクリックしてカテゴリを追加します。</figcaption>
        </figure>
      </div>

      <!-- 画像：エディタ全体（幅広なのでカラムの外に配置） -->
      <div style="margin-top: 20px;">
        <figure class="figure-card img-wide">
          <img src="./image/image01.png" alt="Scratch エディター全体">
          <figcaption>Tello 拡張が追加され、ブロックパレットに緑色のTelloカテゴリが表示された状態です。</figcaption>
        </figure>
      </div>
    </section>

    <!-- Section 2: ブロック解説 -->
    <section>
      <h2>2. Tello ブロック一覧</h2>
      <p>追加されたブロックは大きく分けて「操作系」と「センサー（ステータス）系」の2種類があります。以下の画像でどのようなブロックがあるか確認できます。</p>

      <!-- 3つの縦長画像を並べるギャラリー -->
      <div class="blocks-gallery">
        
        <figure class="figure-card img-tall">
          <img src="./image/image02-1.png" alt="基本接続・離着陸ブロック">
          <figcaption><strong>基本操作 1</strong><br>接続、離陸、着陸など、最初に必ず使うブロックです。</figcaption>
        </figure>

        <figure class="figure-card img-tall">
          <img src="./image/image02-2.png" alt="移動・回転ブロック">
          <figcaption><strong>基本操作 2</strong><br>前後左右への移動や回転、宙返りなどのアクションブロックです。</figcaption>
        </figure>

        <figure class="figure-card img-tall">
          <img src="./image/image02-3.png" alt="センサー・ステータスブロック">
          <figcaption><strong>センサー</strong><br>バッテリー残量や高度、温度などの情報を取得する丸いブロックです。</figcaption>
        </figure>

      </div>

      <div class="tip" style="margin-top: 30px;">
        <strong>使い方のヒント:</strong> 移動ブロックの単位は <code>cm</code>、回転は <code>度</code> です。狭い室内でテストする場合は、移動距離を 20cm〜50cm 程度に小さく設定することをおすすめします。
      </div>
    </section>

    <!-- Section 3: プログラム例 -->
    <section>
      <h2>3. よく使うプログラム例</h2>
      
      <!-- 例1 -->
      <div class="program-grid">
        <div>
          <h3>基本フライト</h3>
          <p>最も基本的な「離陸して少し動き、着陸する」プログラムです。</p>
          <ul>
            <li><strong>接続チェック:</strong> 最初に接続を確認します。</li>
            <li><strong>動作:</strong> 離陸 → 前に50cm進む → 着陸。</li>
          </ul>
          <p>初めて飛ばすときはこのプログラムで動作確認をしましょう。</p>
        </div>
        <figure class="figure-card img-tall">
          <img src="./image/image03.png" alt="基本フライトのスクリプト">
          <figcaption>基本フライト構成</figcaption>
        </figure>
      </div>

      <!-- 例2 -->
      <div class="program-grid">
        <div>
          <h3>四角形に飛行する（ループ）</h3>
          <p>「繰り返し」ブロックを使って、正方形を描くように飛行させます。</p>
          <ul>
            <li><strong>4回繰り返す:</strong> 四角形の4辺分繰り返します。</li>
            <li><strong>中身:</strong> 「前に進む」と「90度回転」をセットにします。</li>
          </ul>
        </div>
        <figure class="figure-card img-tall">
          <img src="./image/image04.png" alt="四角形飛行のスクリプト">
          <figcaption>矩形飛行の自動化</figcaption>
        </figure>
      </div>

      <!-- 例3 -->
      <div class="program-grid">
        <div>
          <h3>安全確認ルーチン（バッテリーチェック）</h3>
          <p>飛行前にバッテリー残量をチェックする安全装置のようなプログラムです。</p>
          <ul>
            <li><strong>条件分岐:</strong> もしバッテリーが30%未満なら…</li>
            <li><strong>アクション:</strong> すぐに着陸して終了します。</li>
          </ul>
          <p>これをメインの処理の前に挟むことで、落下事故を防げます。</p>
        </div>
        <figure class="figure-card img-tall">
          <img src="./image/image05.png" alt="安全確認スクリプト">
          <figcaption>バッテリー残量ガード</figcaption>
        </figure>
      </div>

    </section>
  </main>

  <footer>
    <p>&copy; Scratch3 Tello ガイド | 安全に楽しくプログラミングしましょう</p>
  </footer>

</body>
</html>